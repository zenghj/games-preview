window.__require=function t(e,o,n){function r(c,a){if(!o[c]){if(!e[c]){var p=c.split("/");if(p=p[p.length-1],!e[p]){var u="function"==typeof __require&&__require;if(!a&&u)return u(p,!0);if(i)return i(p,!0);throw new Error("Cannot find module '"+c+"'")}c=p}var l=o[c]={exports:{}};e[c][0].call(l.exports,function(t){return r(e[c][1][t]||t)},l,l.exports,t,e,o,n)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({AudioSourceControl:[function(t,e,o){"use strict";cc._RF.push(e,"c5a325/sBFDQ7U7GrymE4zW","AudioSourceControl");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.SoundType=void 0;var c,a=cc._decorator,p=a.ccclass,u=a.property;(function(t){t[t.E_Sound_Fly=0]="E_Sound_Fly",t[t.E_Sound_Score=1]="E_Sound_Score",t[t.E_Sound_Die=2]="E_Sound_Die"})(c=o.SoundType||(o.SoundType={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backgroundMusic=null,e.flySound=null,e.scoreSound=null,e.dieSound=null,e}return r(e,t),e.prototype.start=function(){cc.audioEngine.playMusic(this.backgroundMusic,!0)},e.prototype.playSound=function(t){t==c.E_Sound_Fly?cc.audioEngine.playEffect(this.flySound,!1):t==c.E_Sound_Score?cc.audioEngine.playEffect(this.scoreSound,!1):t==c.E_Sound_Die&&cc.audioEngine.playEffect(this.dieSound,!1)},i([u({type:cc.AudioClip})],e.prototype,"backgroundMusic",void 0),i([u({type:cc.AudioClip})],e.prototype,"flySound",void 0),i([u({type:cc.AudioClip})],e.prototype,"scoreSound",void 0),i([u({type:cc.AudioClip})],e.prototype,"dieSound",void 0),i([p],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],BirdControl:[function(t,e,o){"use strict";cc._RF.push(e,"ce1b0/ZmpNHf732KgfRUwEr","BirdControl");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./AudioSourceControl"),a=t("./MainControl"),p=cc._decorator,u=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=0,e.mainControl=null,e}return r(e,t),e.prototype.onLoad=function(){cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.mainControl=cc.Canvas.instance.node.getComponent("MainControl")},e.prototype.start=function(){},e.prototype.update=function(){if(this.mainControl.gameStatus===a.GameStatus.Game_Playing){this.speed-=.2,this.node.y+=this.speed;var t=-this.speed/2*30;t>=30&&(t=30),this.node.angle=-t,(this.node.y>=243||this.node.y<=-243)&&this.handleGameOver()}},e.prototype.onTouchStart=function(){this.speed=4,this.mainControl.audioSourceControl.playSound(c.SoundType.E_Sound_Fly)},e.prototype.onCollisionEnter=function(t){0===t.tag?this.handleGameOver():1===t.tag&&(this.mainControl.gameScore++,this.mainControl.labelScore.string=this.mainControl.gameScore.toString(),this.mainControl.audioSourceControl.playSound(c.SoundType.E_Sound_Score))},e.prototype.handleGameOver=function(){cc.log("game over"),this.mainControl.gameOver(),this.speed=0},i([u],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./AudioSourceControl":"AudioSourceControl","./MainControl":"MainControl"}],MainControl:[function(t,e,o){"use strict";cc._RF.push(e,"6cd77iL8KtNX5EP8VHmt9t+","MainControl");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.GameStatus=void 0;var c,a=cc._decorator,p=a.ccclass,u=a.property,l=t("./AudioSourceControl");(function(t){t[t.Game_Ready=0]="Game_Ready",t[t.Game_Playing=1]="Game_Playing",t[t.Game_Over=2]="Game_Over"})(c=o.GameStatus||(o.GameStatus={}));var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBg=[null,null],e.pipePrefab=null,e.pipe=[null,null,null],e.spGameOver=null,e.btnStart=null,e.gameStatus=c.Game_Ready,e.labelScore=null,e.gameScore=0,e.audioSourceControl=null,e}return r(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,this.spGameOver=this.node.getChildByName("GameOver").getComponent(cc.Sprite),this.spGameOver.node.active=!1,this.btnStart=this.node.getChildByName("BtnStart").getComponent(cc.Button),this.btnStart.node.on(cc.Node.EventType.TOUCH_END,this.touchStartBtn,this)},e.prototype.start=function(){for(var t=0;t<this.pipe.length;t++)this.pipe[t]=cc.instantiate(this.pipePrefab),this.node.getChildByName("Pipe").addChild(this.pipe[t]),this.pipe[t].x=170+200*t,this.pipe[t].y=240*Math.random()-120},e.prototype.update=function(){if(this.gameStatus===c.Game_Playing){for(var t=0;t<this.spBg.length;t++)this.spBg[t].node.x-=1,this.spBg[t].node.x<=-288&&(this.spBg[t].node.x=288);for(t=0;t<this.pipe.length;t++)this.pipe[t].x-=1,this.pipe[t].x<=-170&&(this.pipe[t].x=430,this.pipe[t].y=240*Math.random()-120)}},e.prototype.gameOver=function(){this.spGameOver.node.active=!0,this.btnStart.node.active=!0,this.gameStatus=c.Game_Over,this.audioSourceControl.playSound(l.SoundType.E_Sound_Die)},e.prototype.touchStartBtn=function(){this.btnStart.node.active=!1,this.gameStatus=c.Game_Playing,this.spGameOver.node.active=!1;for(var t=0;t<this.pipe.length;t++)this.pipe[t].x=170+200*t,this.pipe[t].y=240*Math.random()-120;var e=this.node.getChildByName("Bird");e.y=0,e.angle=0,this.gameScore=0,this.labelScore.string=this.gameScore.toString()},i([u(cc.Sprite)],e.prototype,"spBg",void 0),i([u(cc.Prefab)],e.prototype,"pipePrefab",void 0),i([u(cc.Label)],e.prototype,"labelScore",void 0),i([u(l.default)],e.prototype,"audioSourceControl",void 0),i([p],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./AudioSourceControl":"AudioSourceControl"}]},{},["AudioSourceControl","BirdControl","MainControl"]);